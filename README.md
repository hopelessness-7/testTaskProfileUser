# Система подтверждения смены настроек пользователя

## Описание проекта

Данная система позволяет пользователям подтверждать изменения конкретных настроек с помощью кода подтверждения, отправленного через SMS, электронную почту или Telegram. Пользователи могут выбрать предпочтительный метод подтверждения.

## Архитектура проекта

### Модели

* **Users**: модель пользователя, содержащая информацию о имени, электронной почте, пароле и номере телефона.
* **Confirmation**: модель подтверждения, содержащая информацию о коде подтверждения и методе подтверждения.

### Репозитории

* **UsersRepository**: репозиторий для работы с моделью Users.
* **ConfirmationRepository**: репозиторий для работы с моделью Confirmation.

### Сервисы

* **UserService**: сервис для работы с пользователями, включая регистрацию, авторизацию и изменение настроек.
* **ConfirmationService**: сервис для работы с подтверждениями, включая отправку кодов подтверждения и проверку их корректности.

### Классы реквестов

* **UserRequest**: класс реквеста для работы с пользователями.
* **ConfirmationRequest**: класс реквеста для работы с подтверждениями.

### Ресурсы

* **UserResource**: ресурс для работы с пользователями.
* **ConfirmationResource**: ресурс для работы с подтверждениями.

### Классы уведомлений

* **TelegramNotification**: класс уведомления для отправки кодов подтверждения через Telegram.
* **TwilioNotification**: класс уведомления для отправки кодов подтверждения через SMS.
* **EmailNotification**: класс уведомления для отправки кодов подтверждения через email.

### Интерфейс

* **Vue 3**: интерфейс профиля, регистрации и авторизации, созданный с помощью Vue 3.

### Авторизация

* **Sanctum**: пакет для авторизации, используемый для защиты роутов и ресурсов.

## Слои и абстракции

* **Инфраструктурный слой**: содержит репозитории, сервисы и классы уведомлений.
* **Слой бизнес-логики**: содержит модели, классы реквестов и ресурсы.
* **Слой представления**: содержит интерфейс, созданный с помощью Vue 3.

## Таблицы

* **users**: таблица, содержащая информацию о пользователях.
* **confirmations**: таблица, содержащая информацию о подтверждениях.

## Связи между моделями

* **Users** имеет много подтверждений (**Confirmations**).
* **Confirmations** принадлежит одному пользователю (**Users**).

## Интеграция с ORM

* Используется Eloquent ORM, встроенный в Laravel, для работы с моделями и таблицами.

## Паттерны проектирования

* **Repository pattern**: используется для абстракции доступа к моделям и таблицам.
* **Service pattern**: используется для абстракции бизнес-логики и работы с моделями.
* **Notification pattern**: используется для отправки кодов подтверждения через различные каналы.

## Установка

### Шаг 1: Установка зависимостей

Выполните команду `composer install` и `npm install` в терминале, чтобы установить все зависимости проекта.

### Шаг 2: Настройка базы данных

Создайте файл `.env` и настройте параметры базы данных. Затем выполните команду `php artisan migrate` для создания таблиц в базе данных.

### Шаг 3: Установка пакетов

Установите пакеты `laravel-notification-channels/telegram` и `laravel-notification-channels/twilio` с помощью команды `composer require`.

### Шаг 4: Настройка уведомлений

Для настройки уведомлений в файле `.env` измените соответствующие настройки для SMS и Telegram

`TWILIO_ACCOUNT_SID`
`TWILIO_AUTH_TOKEN`
`TWILIO_FROM`
`TELEGRAM_BOT_TOKEN`

### Шаг 5: Запуск приложения

Выполните команду `php artisan serve` для запуска приложения.

## Использование

После установки и настройки приложения вы можете использовать его для подтверждения смены настроек пользователя. Пользователи могут выбрать предпочтительный метод подтверждения и получать коды подтверждения через SMS, электронную почту или Telegram.
